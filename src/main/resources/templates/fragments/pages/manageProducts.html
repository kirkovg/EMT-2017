<!DOCTYPE html>
<div xmlns:th="http://www.thymeleaf.org">
    <h4 th:if="${exception!=null}" class="panel panel-danger" th:text="${exception}"></h4>

    <h1>Products:</h1>

    <div th:each="prod : ${products}" class="row" style="margin-top: 10px;">
        <hr/>
        <div class="col-md-3">
            <img class="img img-responsive" th:src="@{/book/{id}/picture(id=${prod.id})}" width="100" height="100"/>
        </div>
        <div class="col-md-3">
            <label>Name:</label>
            <div th:text="${prod.name}"></div>
            <label>Category:</label><br/>
            <a th:href="@{/category/{categoryId}(categoryId=${prod.category.id})}"
               th:text="${prod.category.name}">
            </a>
            <br/>
        </div>
        <div class="col-md-3">
            <div class="row">
                <a th:href="@{/admin/manageBookDetails/{bookId}(bookId=${prod.id})}" class="btn btn-warning">Manage Details</a>
            </div>
            <div class="row" style="padding-top: 10px;">
                <a th:href="@{/admin/manageStock/{bookId}(bookId=${prod.id})}" class="btn btn-warning">Manage Stock</a>
            </div>
            <div class="row" style="padding-top: 10px;">
                <a th:href="@{/admin/managePicture/{bookId}(bookId=${prod.id})}" class="btn btn-warning">Manage Picture</a>
            </div>
        </div>

        <form class="col-md-3" method="POST" xmlns:th="http://www.thymeleaf.org"
              th:action="@{/admin/manageProducts/{categoryId}/deleteProduct/{bookId}(categoryId=${prod.category.id},bookId=${prod.id})}">
            <input type="submit" class="btn btn-danger" value="Remove Product"/>
        </form>

    </div>
</div>